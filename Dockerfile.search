# Dockerfile.search
FROM bitnami/spark:latest
USER 0

# Cài đặt các gói cần thiết cho search (có thể thêm nếu cần)
RUN pip install --no-cache-dir pyspark kafka-python hdfs

# Copy các file source vào container
COPY t5_image_search.py /app/t5_image_search.py

# Copy entrypoint script cho t5-search
COPY entrypoint.sh /entrypoint.sh
RUN chmod +x /entrypoint.sh

WORKDIR /app

# Command mặc định có thể override bởi docker-compose.yml
# CMD ["python", "t5_image_search.py"]

